{"./":{"url":"./","title":"Introduction","keywords":"","body":"Introduction 工作许久，发现“好记性不如烂笔头”太有道理。但各种经验和想法都记录下来之后还需提炼回顾，故新开此博客。 Copyright © R4ph4e1 2023 all right reserved，powered by Gitbook该文章修订时间： 2023-09-11 08:02:11 "},"markdown/移动安全/安卓入门.html":{"url":"markdown/移动安全/安卓入门.html","title":"安卓入门","keywords":"","body":"安卓入门 准备工作 电脑。 解锁bl刷入原生系统的安卓机，并且root。 Frida客户端安装配置 先有python后有天。没有Python和pip就装。然后安装工具，速度很慢是正常的，最好挂代理。 pip install frida pip install frida-tools 安装成功后，检查一下 frida-ps PS：安装过程中存在warning 参考官方文档Troubleshooting 比如给朋友的MacOS装的时候遇到过，有可能是系统变量配置路径问题参考#issues1355 ADB安装配置 看这个SDK Platform Tools release notes 安装完成后，查看设备连接情况。 adb devices PS：如果连接不上，可能是端口问题。配置一下就好。如果是使用模拟器，不同的模拟器，可能会默认指定5017之类的端口，以及使用模拟器安装目录下的adb工具，具体需要查看官方手册。（所以强烈不推荐使用模拟器） adb forward tcp:5037 tcp:5037 Frida服务端安装配置 先查看当前的客户端版本 frida --version 要hook安卓，就需要下载对应版本的服务端。注意与客户端版本号对应，注意平台，注意指令集。 https://github.com/frida/frida/releases/tag/16.1.3 把下载的文件解压，然后上传到安卓机 adb push ./frida服务端文件名 /你想要的安卓机器的目录的绝对路径 #常见情况 adb push ./frida服务端文件名 /data/local/tmp/ 修改权限并运行 adb shell su cd /data/local/tmp/ chmod 777 frida-server ./frida-server bypass小技巧，修改文件名防检测 mv /data/local/tmp/frida-server /data/local/tmp/f@vbiuao /data/local/tmp/f@vbiuao 启动服务后，在自己电脑客户端查看连接情况，有进程列表就是正常的 frida-ps -U 指定写有hook代码的js文件和想要hook的进程，进程名可以在frida-ps -U上看到。 其中frida客户端启动，分为spawn和attach两种。spawn是在进程启动前，就运行hook。attach是在进程启动后，中途运行hook。 attach的方式不容易应用出错或者闪退，但容易hook失败，以下是attach的启动方式： frida -U -l \"E:\\xxx\\abcd.js\" com.xx.messenger(你想hook的进程名) spawn的启动需要参数-f，而--no-pause则是让hook到函数时不会强制暂停进程。 frida -U --no-pause -f com.xx.messenger -l hook.js 查看进程名 如果你使用Identifier进行hook失败 那就使用Name再试一次 更简便的方式 刷入mikrom，原生集成了frida。 安装MikManager adb install ./apk 可以通过app启动frida 下载安装fridaUiTools 可以很方便地联动frida使用内置的hook脚本 Copyright © R4ph4e1 2023 all right reserved，powered by Gitbook该文章修订时间： 2023-08-19 16:44:27 "}}